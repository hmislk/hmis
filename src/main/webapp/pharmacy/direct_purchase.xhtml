<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/resources/template/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pa="http://xmlns.jcp.org/jsf/composite/paymentMethod"
                xmlns:pharmacy="http://xmlns.jcp.org/jsf/composite/pharmacy">

    <ui:define name="content">
        <h:outputStylesheet library="css" name="maincss.css" ></h:outputStylesheet>
        <h:form id="bill">
            <p:growl id="msg"/>
            <p:panel rendered="#{!pharmacyDirectPurchaseController.printPreview}" style="height: 100vh">
                <f:facet name="header">
                    <div class="d-flex justify-content-between align-items-center w-100">
                        <div>
                            <h:outputText styleClass="fas fa-shopping-bag"/>
                            <h:outputText class="mx-4" value="Pharmacy Direct Purchase" />
                        </div>
                        <div>
                            <p:commandButton
                                value="Settle"
                                action="#{pharmacyDirectPurchaseController.settleDirectPurchaseBillFinally}"
                                styleClass="ui-button-success"
                                ajax="false"
                                icon="pi pi-check-circle"
                                style="margin-right: 8px;">
                            </p:commandButton>
                            <p:commandButton
                                value="New Direct Purchase Bill"
                                ajax="false"
                                styleClass="ui-button-warning"
                                icon="pi pi-plus"
                                action="#{pharmacyDirectPurchaseController.navigateToStartNewDirectPurchaseBill()}"
                                style="margin-right: 8px;">
                            </p:commandButton>
                        </div>
                    </div>
                </f:facet>

                <h:panelGroup
                    rendered="#{pharmacyDirectPurchaseController.warningMessage ne null}" >
                    <h:inputTextarea
                        class="text-warning w-100"
                        readonly="true"
                        value="#{pharmacyDirectPurchaseController.warningMessage}" >
                    </h:inputTextarea>
                </h:panelGroup>

                <div class="row">
                    <div class="col-8">
                        <p:panel
                            id="itemselectgrid"
                            class="my-2 w-100"
                            header="Add Item">
                            <f:facet name="header" >
                                <h:outputText styleClass="fa-solid fa-circle-plus" />
                                <h:outputText  class="mx-4" value="Add Items" />
                            </f:facet>
                            <p:focus id="focusItem" for="acItem" ></p:focus>
                            <div class="row w-100">
                                <div class="col-5">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        value="Select Item"/><br/>
                                    <p:autoComplete
                                        class="w-100 m-1"
                                        inputStyleClass="w-100"
                                        id="acItem"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.item}"
                                        forceSelection="true"
                                        completeMethod="#{itemController.completeAmpAndAmppItem}"
                                        var="vt"
                                        maxResults="20"
                                        itemLabel="#{vt.name}"
                                        itemValue="#{vt}" >
                                        <p:column headerText="Item" style="padding: 6px;">
                                            <h:outputLabel value="#{vt.name}"></h:outputLabel>
                                        </p:column>
                                        <p:column headerText="Code" style="padding: 6px;">
                                            <h:outputLabel value="#{vt.code}"></h:outputLabel>
                                        </p:column>
                                        <p:ajax
                                            event="itemSelect"
                                            process="acItem"
                                            listener="#{pharmacyDirectPurchaseController.onItemSelect}"
                                            update="txtQty txtFreeQty txtPrate txtRetailRate" ></p:ajax>
                                    </p:autoComplete>
                                </div>
                                <div class="col-1">
                                    <h:outputLabel 
                                        value="Quantity"
                                        class="w-100 m-1"/><br/>
                                    <p:inputText
                                        id="txtQty"
                                        class="w-100 m-1 text-end"
                                        autocomplete="off"
                                        onfocus="this.select()"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.quantity}">
                                        <p:ajax 
                                            event="blur"
                                            process="@this" 
                                            update="txtLineDiscountValue txtPurchaseValueMinusLineDiscountValue txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onQuantityChange}" />
                                    </p:inputText>
                                </div>
                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        value="Free Quantity"/>
                                    <p:inputText
                                        autocomplete="off"
                                        id="txtFreeQty"
                                        class="w-100 m-1 text-end"
                                        onfocus="this.select()"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.freeQuantity}">
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtLineDiscountValue txtPurchaseValueMinusLineDiscountValue txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onFreeQuantityChange}" />
                                    </p:inputText>
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        value="Purchase Rate" /><br/>
                                    <p:inputText
                                        id="txtPrate"
                                        autocomplete="off"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.grossRate}">
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtPurchaseRate txtLineDiscountValue txtPurchaseValueMinusLineDiscountValue txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onGrossRateChange}" />
                                    </p:inputText>

                                </div>
                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Line Discount Rate" /><br/>
                                    <p:inputText
                                        id="txtLineDiscountRate"
                                        autocomplete="off"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.lineDiscountRate}">
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtLineDiscountValue txtPurchaseValueMinusLineDiscountValue txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onLineDiscountRateChange}" />
                                    </p:inputText>
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Purchase Value" /><br/>
                                    <p:inputText
                                        id="txtPurchaseRate"
                                        disabled="true"
                                        autocomplete="off"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.grossTotal}">
                                        <f:convertNumber pattern="#,##0.00" />
                                    </p:inputText>
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Line Discount Value" /><br/>
                                    <p:inputText
                                        id="txtLineDiscountValue"
                                        autocomplete="off"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.lineDiscount}">
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtLineDiscountRate txtPurchaseValueMinusLineDiscountValue txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onLineDiscountValueChange}" />
                                    </p:inputText>
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Line Net Value" /><br/>
                                    <p:inputText
                                        id="txtPurchaseValueMinusLineDiscountValue"
                                        autocomplete="off"
                                        disabled="true"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.netTotal}">
                                        <f:convertNumber pattern="#,##0.00" />
                                    </p:inputText>
                                </div>



                                <div class="col-3">
                                    <p:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Date of Expiry"/>
                                    <p:calendar
                                        navigator="true"
                                        class="w-100 m-1 text-end"
                                        inputStyleClass="w-100 my-1"
                                        id="calDoe"
                                        pattern="dd MM yy"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.pharmaceuticalBillItem.doe}">
                                        <f:ajax event="dateSelect" execute="@this tmp" render="tmp" listener="#{pharmacyDirectPurchaseController.setBatch()}"/>
                                    </p:calendar>
                                </div>
                                <div class="col-2">
                                    <h:outputLabel
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Batch No"/>
                                    <p:inputText
                                        autocomplete="off"
                                        class="w-100 m-1"
                                        id="tmp"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.pharmaceuticalBillItem.stringValue}"  />
                                </div>


                                <div class="col-1">
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Retail Sale Price" />
                                    <p:inputText
                                        autocomplete="off"
                                        id="txtRetailRate"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.retailSaleRate}">
                                        <f:convertNumber pattern="#,##0.00" />
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtRetailValue txtRetailValueByUnit"
                                            listener="#{pharmacyDirectPurchaseController.onRetailSaleRateChange}" />
                                    </p:inputText>
                                </div>



                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Retail Sale Price Per Unit" />
                                    <p:inputText
                                        autocomplete="off"
                                        id="txtRetailRatePerUnit"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.retailSaleRatePerUnit}">
                                        <f:convertNumber pattern="#,##0.00" />
                                        <p:ajax 
                                            event="blur"
                                            process="@this"
                                            update="txtRetailValueByUnit txtRetailValue"
                                            listener="#{pharmacyDirectPurchaseController.onRetailSaleRatePerUnitChange}" />
                                    </p:inputText>
                                </div>


                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Retail Sale Value"></h:outputLabel>
                                    <p:inputText
                                        autocomplete="off"
                                        id="txtRetailValue"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.retailSaleValue}" >
                                        <f:convertNumber pattern="#,##0.00" />
                                    </p:inputText>
                                </div>

                                <div class="col-1">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        style="white-space: nowrap;"
                                        value="Retail Sale Value By Unit"></h:outputLabel>
                                    <p:inputText
                                        autocomplete="off"
                                        id="txtRetailValueByUnit"
                                        onfocus="this.select()"
                                        class="w-100 m-1 text-end"
                                        value="#{pharmacyDirectPurchaseController.currentBillItem.billItemFinanceDetails.retailSaleValueByUnit}" >
                                        <f:convertNumber pattern="#,##0.00" />
                                    </p:inputText>
                                </div>



                                <div class="col-2">
                                    <h:outputLabel 
                                        class="w-100 m-1"
                                        value="&nbsp;"></h:outputLabel>
                                    <p:commandButton
                                        id="btnAdd"
                                        value="Add"
                                        class="ui-button-success w-100"
                                        icon="fas fa-plus"
                                        action="#{pharmacyDirectPurchaseController.addItem}"
                                        process="itemselectgrid" 
                                        update="itemList itemselectgrid tot focusItem :#{p:resolveFirstComponentWithId('total',view).clientId} :#{p:resolveFirstComponentWithId('totalSaleValue',view).clientId} msg"/>

                                </div>
                            </div>
                        </p:panel>
                    </div>
                    <div class="col-4">
                        <p:panel header="Purchasing Details" class="m-1">
                            <f:facet name="header">
                                <h:outputText styleClass="fas fa-shopping-basket"/>
                                <h:outputText class="mx-4" value="Purchasing Details"/>
                            </f:facet>
                            <h:panelGrid class="w-100">
                                <p:outputLabel value="Select Supplier"/>
                                <p:autoComplete
                                    class=" w-100 my-2"
                                    inputStyleClass="w-100"
                                    converter="deal"
                                    value="#{pharmacyDirectPurchaseController.bill.fromInstitution}"
                                    forceSelection="true"
                                    completeMethod="#{dealerController.completeDealor}"
                                    var="vt"
                                    maxResults="10"
                                    itemLabel="#{vt.name}"
                                    itemValue="#{vt}" />
                                <h:outputLabel value="Purchasing Institution"/>
                                <p:autoComplete
                                    class=" w-100 my-2"
                                    inputStyleClass="w-100"
                                    value="#{pharmacyDirectPurchaseController.bill.referenceInstitution}"
                                    completeMethod="#{institutionController.completeCompany}"
                                    forceSelection="true"
                                    var="vt"
                                    itemLabel="#{vt.name}"
                                    itemValue="#{vt}" />

                                <p:outputLabel value="Invoice No  "/>
                                <p:inputText class="w-100" autocomplete="off" value="#{pharmacyDirectPurchaseController.bill.invoiceNumber}" />
                                <p:outputLabel value="Invoice Date"/>
                                <p:calendar class="w-100" inputStyleClass="w-100" value="#{pharmacyDirectPurchaseController.bill.invoiceDate}"   navigator="true" pattern="#{sessionController.applicationPreference.shortDateFormat}" />

                                <h:outputLabel value="Payment Method" class="mb-2"/>
                                <p:selectOneMenu style="width: 300px;" id="cmbPs" value="#{pharmacyDirectPurchaseController.bill.paymentMethod}">
                                    <f:selectItem itemLabel="Select Payment Method" />
                                    <f:selectItems value="#{enumController.paymentMethodsForPharmacyPurchase}" />
                                    <p:ajax event="change" process="cmbPs" ></p:ajax>
                                </p:selectOneMenu>

                            </h:panelGrid>
                        </p:panel>

                        <p:panel header="Bill details" class="m-1" >
                            <f:facet name="header" >
                                <h:outputText styleClass="fas fa-receipt"/>
                                <h:outputText  class="mx-4" value="Bill Details" />
                            </f:facet>


                            <h:panelGrid columns="2" id="tot" style="min-width: 100%;font-weight: bolder">

                                <p:outputLabel value="Gross Total"/>
                                <p:outputLabel id="gro"  value="#{pharmacyDirectPurchaseController.bill.total}" />
                                <p:outputLabel value="Tax"/>
                                <p:inputText autocomplete="off" id="tx" value="#{pharmacyDirectPurchaseController.bill.tax}" >
                                    <p:ajax process="tx" update="gro tx net" event="keyup" listener ="#{pharmacyDirectPurchaseController.calNetTotal()}"/>
                                </p:inputText>
                                <p:outputLabel value="Discount"/>
                                <p:inputText autocomplete="off" id="dis" value="#{pharmacyDirectPurchaseController.bill.discount}" >
                                    <p:ajax process="@this" update="gro tx net" event="keyup" listener ="#{pharmacyDirectPurchaseController.calNetTotal()}"/>
                                </p:inputText>
                                <p:outputLabel value="Net Total"/>
                                <h:outputLabel id="net"  value="#{pharmacyDirectPurchaseController.bill.netTotal}" >
                                    <f:convertNumber pattern="#,##0.00"/>
                                </h:outputLabel>
                                <p:outputLabel value="Sale Value"/>
                                <h:outputLabel id="saleValue"  value="#{pharmacyDirectPurchaseController.bill.saleValue}" >
                                    <f:convertNumber pattern="#,##0.00"/>
                                </h:outputLabel>

                            </h:panelGrid>

                        </p:panel>



                    </div>
                </div>

                <div class="row">
                    <div class="col-12">
                        <p:dataTable
                            class="my-2"
                            rowIndexVar="i"
                            var="ph"
                            value="#{pharmacyDirectPurchaseController.billItems}"
                            id="itemList">

                            <f:facet name="header">
                                <h:outputText styleClass="fas fa-shopping-cart" />
                                <h:outputText class="mx-4" value="Ordered Items" />
                            </f:facet>

                            <p:column headerText="No" width="2em">
                                <h:outputLabel value="#{i + 1}" />
                            </p:column>

                            <p:column headerText="Item">
                                <h:outputLabel id="item" value="#{ph.item.name}" style="width:100%" />
                            </p:column>

                            <p:column headerText="Qty" width="6em" styleClass="text-end">
                                <h:outputLabel value="#{ph.billItemFinanceDetails.quantity}" />
                            </p:column>

                            <p:column headerText="Free" width="6em" styleClass="text-end">
                                <h:outputLabel value="#{ph.billItemFinanceDetails.freeQuantity}" />
                            </p:column>

                            <p:column headerText="P. Rate" width="6em" styleClass="text-end">
                                <h:outputLabel value="#{ph.billItemFinanceDetails.grossRate}">
                                    <f:convertNumber pattern="#,##0.00" />
                                </h:outputLabel>
                            </p:column>

                            <p:column headerText="S. Rate" width="6em" styleClass="text-end">
                                <h:outputLabel value="#{ph.billItemFinanceDetails.retailSaleRate}">
                                    <f:convertNumber pattern="#,##0.00" />
                                </h:outputLabel>
                            </p:column>

                            <p:column headerText="Batch">
                                <h:outputLabel value="#{ph.pharmaceuticalBillItem.stringValue}" />
                            </p:column>

                            <p:column headerText="DOE">
                                <h:outputLabel value="#{ph.pharmaceuticalBillItem.doe}">
                                    <f:convertDateTime pattern="#{sessionController.applicationPreference.shortDateFormat}" />
                                </h:outputLabel>
                            </p:column>

                            <p:column headerText="Profit %" width="6em" styleClass="text-end">
                                <h:outputText
                                    id="profMargin"
                                    value="#{((ph.billItemFinanceDetails.retailSaleRate - ph.billItemFinanceDetails.grossRate) / ph.billItemFinanceDetails.grossRate) * 100}"
                                    styleClass="#{ph.item.category.profitMargin > ((ph.billItemFinanceDetails.retailSaleRate - ph.billItemFinanceDetails.grossRate) / ph.billItemFinanceDetails.grossRate) * 100 ? 'ui-messages-fatal' : ''}">
                                    <f:convertNumber pattern="0.0" />
                                </h:outputText>
                            </p:column>

                            <p:column>
                                <p:commandButton class="mr-4 ui-button-danger" icon="fas fa-trash" ajax="false" action="#{pharmacyDirectPurchaseController.removeItem(ph)}" />
                            </p:column>
                        </p:dataTable>

                    </div>
                </div>




                <p:panel header="Bill Expenses" class="my-3" >
                    <h:panelGrid id="billExpenseGrid" columns="4" style="min-width: 100%;">
                        <h:outputLabel value="Select Expense"/>
                        <h:outputLabel value="Value"/>
                        <h:outputLabel value="Description"/>
                        <h:outputLabel ></h:outputLabel>
                        <p:autoComplete
                            id="acExpense"
                            value="#{pharmacyDirectPurchaseController.currentExpense.item}"
                            forceSelection="true"
                            completeMethod="#{itemController.completeExpenseItem}"
                            var="ex"
                            itemLabel="#{ex.name}"
                            itemValue="#{ex}"
                            inputStyleClass="w-100"
                            class="w-75">
                        </p:autoComplete>
                        <p:inputText
                            autocomplete="off"
                            id="txtExpense"
                            onfocus="this.select()"
                            styleClass="numericTxt"
                            value="#{pharmacyDirectPurchaseController.currentExpense.rate}"
                            style="width:50%" />
                        <p:inputText maxlength="250" value="#{pharmacyDirectPurchaseController.currentExpense.descreption}" style="width:75%" ></p:inputText>
                        <p:commandButton
                            id="btnAddExpense"
                            value="Add Expense"
                            icon="fas fa-plus"
                            class="ui-button-Warning mx-2"
                            action="#{pharmacyDirectPurchaseController.addExpense()}"
                            ajax = "false"
                            process="billExpenseGrid btnAddExpense @this"
                            update=" billExpenseGrid @all"/>
                    </h:panelGrid>
                    <p:dataTable id="tblExpenses" value="#{pharmacyDirectPurchaseController.billExpenses}" var="be" class="mt-2"
                                 emptyMessage="No Bill Expenses" >
                        <p:column headerText="Expense" >
                            <h:outputLabel value="#{be.item.name}" ></h:outputLabel>
                        </p:column>
                        <p:column headerText="Value" >
                            <h:outputLabel value="#{be.netValue}" >
                                <f:convertNumber pattern="#,##0.00" ></f:convertNumber>
                            </h:outputLabel>
                        </p:column>
                        <p:column headerText="Description" >
                            <h:outputLabel value="#{be.descreption}" ></h:outputLabel>
                        </p:column>
                    </p:dataTable>
                </p:panel>

                <p:commandButton
                    id="nullButton"
                    value="No Action"
                    action="#"
                    style="display: none;" ></p:commandButton>

                <p:defaultCommand  target="btnAdd" />

                <h:panelGroup rendered="#{not empty pharmacyItemExcelManager.itemNamesFailedToImport}" >
                    <p:dataTable value="#{pharmacyItemExcelManager.itemNamesFailedToImport}"
                                 var="f">
                        <p:column >
                            #{f}
                        </p:column>
                    </p:dataTable>
                </h:panelGroup>
            </p:panel>

            <p:panel rendered="#{pharmacyDirectPurchaseController.printPreview}">
                <f:facet name="header" >
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <h:outputText styleClass="fa-solid fa-circle-plus" />
                            <h:outputLabel value="Direct Purchase Order" class="mx-4"></h:outputLabel>
                        </div>
                        <div>
                            <p:commandButton
                                value="Print"
                                ajax="false"
                                action="#"
                                class="ui-button-info mx-2"
                                icon="fas fa-print">
                                <p:printer target="gpBillPreview" ></p:printer>
                            </p:commandButton>
                            <p:commandButton
                                ajax="false"
                                class="ui-button-success"
                                icon="fa fa-plus"
                                action="#{pharmacyDirectPurchaseController.prepareForNewDIrectPurchaseBill()}"
                                value="New Bill"/>

                        </div>
                    </div>
                </f:facet>

                <style>
                    @media print{
                        .purhcaseBill{
                            width: 297mm!important;
                        }

                        .hideProfit{
                            display: none!important;
                        }

                        .showProfit{

                        }

                        .hideRetailValue{
                            display: none!important;
                        }

                        .showRetailValue{

                        }

                    }

                    @media screen{
                        .purhcaseBill{
                            width: 100%!important;
                        }

                        .showProfit{

                        }
                    }

                </style>

                <h:panelGroup id="gpBillPreview" >
                    <pharmacy:purhcase
                        bill="#{pharmacyDirectPurchaseController.bill}"
                        ShowProfit="#{configOptionApplicationController.getBooleanValueByKey('Show Profit % in Direct Purchase Bill', true)}"
                        ShowRetailValue="#{configOptionApplicationController.getBooleanValueByKey('Show Retail Value in Direct Purchase Bill', true)}">
                    </pharmacy:purhcase>
                </h:panelGroup>

            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
