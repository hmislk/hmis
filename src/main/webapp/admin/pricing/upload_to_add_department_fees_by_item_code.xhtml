<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
    </h:head>
    <h:body>
        <ui:composition template="/admin/pricing/index.xhtml">
            <ui:define name="subcontent">
                <p:growl id="msg"/>
                <p:panel>
                    <f:facet name="header">
                        <h:outputText styleClass="fa fa-fw fa-money-bill-wave"></h:outputText>
                        <h:outputText value="Upload to Add Department Fees by Item Code" styleClass="m-2"></h:outputText>
                    </f:facet>
                    <h:form id="upload" enctype="multipart/form-data">
                        <p:panelGrid columns="2" >
                            <p:outputLabel value="Department" for="acDept"></p:outputLabel>
                            <p:autoComplete
                                value="#{itemController.department}"
                                forceSelection="true" id="acDept"
                                completeMethod="#{departmentController.completeDept}"
                                var="dept"
                                itemLabel="#{dept.name}"
                                itemValue="#{dept}"
                                maxResults="10"
                                class="w-100 mb-1"
                                inputStyleClass="form-control">
                                <p:column headerText="Department" style="padding: 6px;">#{dept.name}</p:column>
                                <p:column headerText="Institution" style="padding: 6px;">#{dept.institution.name}</p:column>
                            </p:autoComplete>

                        </p:panelGrid>

                        <p>Column A - Item Code</p>
                        <p>Column B - Fee</p>


                        <p:fileUpload value="#{itemController.file}"
                                      mode="simple"
                                      label="Choose File"/>
                        <p:commandButton 
                            icon="fa fa-upload"
                            value="Upload and Add Fee Values"
                            action="#{itemController.uploadToAddDepartmentFeesByItemCode()}"
                            ajax="false"/>


                        <p:inputTextarea  value="#{itemController.output}" class="w-100" rows="30" >

                        </p:inputTextarea>

                    </h:form>

                </p:panel>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
