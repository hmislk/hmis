<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- INTERFACE -->
    <cc:interface>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <p:panel >
            <f:facet name="header" >
                <h:outputText value="Application Preferences" ></h:outputText>
                <p:spacer height="1" width="30" ></p:spacer>
                <p:commandButton id="btnSave" 
                                 icon="fas fa-save"
                                 class="ui-button-warning"
                                 ajax="false" value="Save" 
                                 action="#{sessionController.saveUserPreferences()}" ></p:commandButton>
            </f:facet>





            <p:tabView orientation="left" class="w-100" >
                <p:tab title="Frontend" class="w-100" >
                    <p:panel header="Website" class="w-100" >
                        <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                            <h:outputLabel value="Website Has a Frontend" ></h:outputLabel>
                            <h:selectBooleanCheckbox value="#{sessionController.currentPreference.hasAwebsiteAsFrontEnd}" />

                            <h:outputLabel value="Template Name" ></h:outputLabel>
                            <h:inputText
                                value="#{sessionController.currentPreference.themeName}" />


                            <h:outputLabel value="Logo URL" ></h:outputLabel>
                            <h:inputText
                                value="#{sessionController.currentPreference.logoUrl}" />
                            <h:outputLabel value="Logging Header" ></h:outputLabel>
                            <h:inputText
                                value="#{sessionController.currentPreference.loggingHeader}" />


                            <h:outputLabel value="Logging Text" ></h:outputLabel>
                            <p:textEditor 
                                secure="false" 
                                class="w-100" 
                                value="#{sessionController.currentPreference.loggingText}" />


                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="SMS"  >
                    <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                        <h:outputLabel value="SMS URL" ></h:outputLabel>
                        <h:inputText class="w-100"
                                     value="#{sessionController.currentPreference.smsUrl}" />

                        <h:outputLabel value="Authentication" ></h:outputLabel>
                        <h:selectOneMenu class="w-100"
                                         value="#{sessionController.currentPreference.smsAuthenticationType}" >
                            <f:selectItems value="#{enumController.restAuthenticationTypes}" ></f:selectItems>
                        </h:selectOneMenu>


                        <h:outputLabel value="SMS Username Parameter Name" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsUsernameParameterName}" />
                        <h:outputLabel value="SMS Username" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsUsername}" />

                        <h:outputLabel value="SMS Password Parameter Name" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsPasswordParameterName}" />
                        <h:outputLabel value="SMS Password" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsPassword}" />

                        <h:outputLabel value="SMS User Alias Parameter Name" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsUserAliasParameterName}" />
                        <h:outputLabel value="SMS User Alias" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsUserAlias}" />


                        <h:outputLabel value="Phone Number Parameter Name" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsPhoneNumberParameterName}" />

                        <h:outputLabel value="Message Parameter Name" ></h:outputLabel>
                        <h:inputText
                            value="#{sessionController.currentPreference.smsMessageParameterName}" />


                    </h:panelGrid>
                </p:tab>
                <p:tab title="Patient Registration" >
                    <p:panel header="Patient Registration" class="w-100" >
                        <h:panelGrid columns="2" styleClass="alignTop" >

                            <h:outputLabel value="Need Phone number for patient registration"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.needPhoneNumberForPatientRegistration}" offLabel="No" onLabel="Yes" ></p:selectBooleanButton>

                            <h:outputLabel value="Need NIC for patient registration"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.needNicForPatientRegistration}" offLabel="No" onLabel="Yes" ></p:selectBooleanButton>


                            <h:outputLabel value="Need area for patient registration"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.needAreaForPatientRegistration}" offLabel="No" onLabel="Yes" ></p:selectBooleanButton>

                            <h:outputLabel value="Regex pattern for Patient Name"></h:outputLabel>
                            <p:inputText class="form-control"
                                         value="#{sessionController.currentPreference.nameRegex}" >
                            </p:inputText>

                            <h:outputLabel value="Regex pattern for Patient Mobile"></h:outputLabel>
                            <p:inputText class="form-control"
                                         value="#{sessionController.currentPreference.mobileRegex}" >
                            </p:inputText>

                            <h:outputLabel value="Regex pattern for Patient Email"></h:outputLabel>
                            <p:inputText class="form-control"
                                         value="#{sessionController.currentPreference.emailRegex}" >
                            </p:inputText>

                            <h:outputLabel value="Regex pattern for Patient NIC"></h:outputLabel>
                            <p:inputText class="form-control"
                                         value="#{sessionController.currentPreference.nicRegex}" >
                            </p:inputText>

                            <h:outputLabel
                                class="form-label w-100"
                                value="Change the case of the patient name "></h:outputLabel>
                            <p:inputText value="#{sessionController.currentPreference.changeTextCasesPatientName}"/>



                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="OPD" >
                    <p:panel header="OPD" class="w-100" >
                        <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                            <h:outputLabel value="Template for SMS on OPD Bill Settling"></h:outputLabel>
                            <h:inputTextarea value="#{sessionController.currentPreference.smsTemplateForOpdBillSetting}" ></h:inputTextarea>
                            <h:outputLabel value="OPD Billing Can Be Done After Shift Start"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.opdBillingAftershiftStart}" offLabel="No" onLabel="Yes" >
                                <p:ajax process="@this" ></p:ajax>
                            </p:selectBooleanButton>

                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                
                <p:tab title="Channelling" >
                    <p:panel header="Channelling" class="w-100" >
                        <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                            

                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="InWard" >
                    <p:panel header="InWard" class="w-100" >
                        <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                            <h:outputLabel value="Admission Statement in English "></h:outputLabel>
                            <p:inputTextarea class="w-100" style="height: 100vh" value="#{sessionController.currentPreference.inwardAddmissionStatemenetEnglish}"/>
                        </h:panelGrid>
                        <h:panelGrid columns="2" styleClass="alignTop" class="w-100" >
                            <h:outputLabel value="Admission Statement in Sinhala "></h:outputLabel>
                            <p:inputTextarea class="w-100" style="height: 100vh" value="#{sessionController.currentPreference.inwardAddmissionStatemenetSinhala}"/>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>

                <p:tab title="Miscellaneous" >
                    <p:panel header="Miscellaneous" class="w-100" >
                        <h:panelGrid columns="2" class="w-100" >
                            <h:outputLabel 
                                value="Long Date Format"></h:outputLabel>
                            <p:inputText class="form-control"
                                         value="#{sessionController.currentPreference.longDateFormat}" >
                            </p:inputText>
                            <h:outputLabel 
                                value="Short Date Format"></h:outputLabel>
                            <p:inputText  class="form-control"
                                          value="#{sessionController.currentPreference.shortDateFormat}" >
                            </p:inputText>
                            <h:outputLabel 
                                value="Long Date and Time Format"></h:outputLabel>
                            <p:inputText  class="form-control"
                                          value="#{sessionController.currentPreference.longDateTimeFormat}" >
                            </p:inputText>
                            <h:outputLabel 
                                value="Short Date and Time Format"></h:outputLabel>
                            <p:inputText  class="form-control"
                                          value="#{sessionController.currentPreference.shortDateTimeFormat}" >
                            </p:inputText>
                            <h:outputLabel 
                                value="Long Time Format"></h:outputLabel>
                            <p:inputText  class="form-control"
                                          value="#{sessionController.currentPreference.longTimeFormat}" >
                            </p:inputText>
                            <h:outputLabel 
                                value="Short Time Format"></h:outputLabel>
                            <p:inputText  class="form-control"
                                          value="#{sessionController.currentPreference.shortTimeFormat}" >
                            </p:inputText>



                            <h:outputLabel value="Family Membership"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.familyMembership}" offLabel="No" onLabel="Yes" ></p:selectBooleanButton>

                            <h:outputLabel value="Membership Expires"></h:outputLabel>
                            <p:selectBooleanButton value="#{sessionController.currentPreference.membershipExpires}" offLabel="No" onLabel="Yes" ></p:selectBooleanButton>


                            <h:outputLabel value="Institution" ></h:outputLabel>
                            <p:selectOneMenu  class="form-control" value="#{sessionController.currentPreference.applicationInstitution}" >
                                <f:selectItem itemLabel="Select Institution" />
                                <f:selectItems value="#{enumController.applicationInstitutions}" ></f:selectItems>
                            </p:selectOneMenu>
                            <h:outputLabel value="Logo Name"></h:outputLabel>
                            <h:inputText  class="form-control" id="imgName" value="#{sessionController.currentPreference.logoName}"/>
                            <h:outputLabel value="Discount Scheme Validation" ></h:outputLabel>
                            <h:selectBooleanCheckbox value="#{sessionController.currentPreference.checkPaymentSchemeValidation}" />
                            <h:outputLabel value="Length of OTP Indexes" ></h:outputLabel>
                            <h:inputText value="#{sessionController.currentPreference.lengthOfOTPIndexes}" />
                        </h:panelGrid>
                    </p:panel>
                </p:tab>
            </p:tabView>


        </p:panel>


    </cc:implementation>
</html>