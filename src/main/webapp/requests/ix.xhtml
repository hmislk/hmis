<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:lab="http://xmlns.jcp.org/jsf/composite/ezcomp/lab"
      xmlns:na="http://xmlns.jcp.org/jsf/composite/template">


    <f:metadata >
        <f:viewParam name="id" value="#{patientReportController.encryptedPatientReportId}" />
        <f:viewAction action="#{patientReportController.preparePatientReportForReportLink()}" />
    </f:metadata>

    <head>

    </head>

    <h:body>
        <ui:composition template="/resources/template/template_contents_only.xhtml">
            <ui:define name="content">
                <h:outputStylesheet library="css" name="lab.css" ></h:outputStylesheet>

                <h:panelGroup rendered="#{patientReportController.currentPatientReport eq null}"  >
                    <na:link_expire />
                </h:panelGroup>

                <h:panelGroup rendered="#{patientReportController.currentPatientReport ne null}"  >
                    <div  >

                        <style>
                            @media print {
                                .labReport {
                                    position: static !important;
                                }
                                #divReportM {
                                    position: static !important;
                                }
                                /* Repeat for other elements as needed */
                            }

                        </style>

                        <h:panelGroup id="divPrint" class="d-flex justify-content-center mt-5">

                            <!--HtmlTemplate-->
                            <lab:html_patient_report/>

                            <!--General-->
                            <lab:general_patient_report/>

                            <!--Microbiology-->
                            <lab:microbiology_patient_report/>

                            <!--PathologyOrHaematology-->
                            <lab:pathology_patient_report/>

                        </h:panelGroup>

                    </div>
                </h:panelGroup>
            </ui:define>

        </ui:composition>

    </h:body>
</html>
