<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/resources/template/template.xhtml">
        <!-- ChatGPT-generated fallback page for uncaught exceptions -->
        <ui:define name="content">
            <div class="container text-center mt-5">
                <h1 class="text-danger">An Unexpected Error Has Occurred</h1>
                <p class="mt-3">Weâ€™re sorry, but something went wrong while processing your request.</p>
                <p class="mt-3">Please try again later. If the issue persists, contact your system administrator.</p>

                <p:separator/>
                <h:form>
                    <p:commandButton
                        value="Go to Home Page"
                        action="/index.xhtml?faces-redirect=true"
                        styleClass="ui-button-success m-1"
                        ajax="false" />
                </h:form>
                <p:separator/>

                <h3 class="text-info">Error Details for the system administrators</h3>
                <h:panelGrid columns="1" styleClass="text-left w-100" columnClasses="text-left" >
                    <h:outputText value="Status Code: #{errorHandler.statusCode}" />
                    <h:outputText value="Exception Type: #{errorHandler.exceptionType}" />
                    <h:outputText value="Message: #{errorHandler.message}" />
                    <h:outputText value="Request URI: #{errorHandler.requestURI}" />
                    <h:outputText value="Exception: #{errorHandler.exception}" />
                    <h:outputText value="Stack Trace:" styleClass="mt-2 font-weight-bold" />
                    <h:outputText value="#{errorHandler.stackTrace}" escape="false" style="white-space: pre-wrap;" />
                </h:panelGrid>


            </div>
        </ui:define>

    </ui:composition>
</html>
